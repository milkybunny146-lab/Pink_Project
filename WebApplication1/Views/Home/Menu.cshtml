@{
    ViewData["Title"] = "菜單 - 品渴茶鋪";
}

<!-- Menu頁面 -->
<div class="menu-page">
    <div class="menu-container">
        <div class="menu-header">
              <h1>Pink Menu</h1>
              <div class="subtitle">Serch For Your Own</div>
        </div>

        <div class="menu-grid">
            <a href="#" class="menu-item-link" data-item="圍爐奶茶" data-price-medium="70" data-price-large="90" data-image="orginal.jpg">
                <div class="menu-item">
                    <div class="item-image">
                        <img src="~/images/orginal.jpg" alt="圍爐奶茶" />
                    </div>
                    <div class="item-content">
                        <div class="item-name">圍爐奶茶</div>
                        <div class="item-prices">
                            <div class="price-box">
                                <div class="price-label">Medium</div>
                                <div class="price-value">NT$ 70</div>
                            </div>
                            <div class="price-box">
                                <div class="price-label">Large</div>
                                <div class="price-value">NT$ 90</div>
                            </div>
                        </div>
                    </div>
                </div>
            </a>

            <a href="#" class="menu-item-link" data-item="重瓣玫瑰烤奶" data-price-medium="90" data-price-large="120" data-image="rose.jpg">
                <div class="menu-item">
                    <div class="item-image">
                        <img src="~/images/rose.jpg" alt="重瓣玫瑰烤奶" />
                    </div>
                    <div class="item-content">
                        <div class="item-name">重瓣玫瑰烤奶</div>
                        <div class="item-prices">
                            <div class="price-box">
                                <div class="price-label">Medium</div>
                                <div class="price-value">NT$ 90</div>
                            </div>
                            <div class="price-box">
                                <div class="price-label">Large</div>
                                <div class="price-value">NT$ 120</div>
                            </div>
                        </div>
                    </div>
                </div>
            </a>

            <a href="#" class="menu-item-link" data-item="經典桂花烤奶" data-price-medium="90" data-price-large="120" data-image="osthus.jpg">
                <div class="menu-item">
                    <div class="item-image">
                        <img src="~/images/osthus.jpg" alt="經典桂花烤奶" />
                    </div>
                    <div class="item-content">
                        <div class="item-name">經典桂花烤奶</div>
                        <div class="item-prices">
                            <div class="price-box">
                                <div class="price-label">Medium</div>
                                <div class="price-value">NT$ 90</div>
                            </div>
                            <div class="price-box">
                                <div class="price-label">Large</div>
                                <div class="price-value">NT$ 120</div>
                            </div>
                        </div>
                    </div>
                </div>
            </a>

            <a href="#" class="menu-item-link" data-item="頂級茉香烤奶" data-price-medium="90" data-price-large="120" data-image="jas.jpg">
                <div class="menu-item">
                    <div class="item-image">
                        <img src="~/images/jas.jpg" alt="頂級茉香烤奶" />
                    </div>
                    <div class="item-content">
                        <div class="item-name">頂級茉香烤奶</div>
                        <div class="item-prices">
                            <div class="price-box">
                                <div class="price-label">Medium</div>
                                <div class="price-value">NT$ 90</div>
                            </div>
                            <div class="price-box">
                                <div class="price-label">Large</div>
                                <div class="price-value">NT$ 120</div>
                            </div>
                        </div>
                    </div>
                </div>
            </a>

            <a href="#" class="menu-item-link" data-item="馥郁薰衣草烤奶" data-price-medium="90" data-price-large="120" data-image="orginal.jpg">
                <div class="menu-item">
                    <div class="item-image">
                        <img src="~/images/orginal.jpg" alt="馥郁薰衣草烤奶" />
                    </div>
                    <div class="item-content">
                        <div class="item-name">馥郁薰衣草烤奶</div>
                        <div class="item-prices">
                            <div class="price-box">
                                <div class="price-label">Medium</div>
                                <div class="price-value">NT$ 90</div>
                            </div>
                            <div class="price-box">
                                <div class="price-label">Large</div>
                                <div class="price-value">NT$ 120</div>
                            </div>
                        </div>
                    </div>
                </div>
            </a>

            <a href="#" class="menu-item-link" data-item="桃膠雪燕燉奶" data-price-medium="120" data-price-large="150" data-image="swallow.jpg">
                <div class="menu-item">
                    <div class="item-image">
                        <img src="~/images/swallow.jpg" alt="桃膠雪燕燉奶" />
                    </div>
                    <div class="item-content">
                        <div class="item-name">桃膠雪燕燉奶</div>
                        <div class="item-prices">
                            <div class="price-box">
                                <div class="price-label">Medium</div>
                                <div class="price-value">NT$ 120</div>
                            </div>
                            <div class="price-box">
                                <div class="price-label">Large</div>
                                <div class="price-value">NT$ 150</div>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    </div>
</div>

<script>
// 監聽 DOM 內容載入完成事件
// 確保在頁面所有 HTML 元素都載入完成後才執行 JavaScript 代碼
document.addEventListener('DOMContentLoaded', function() {
    
    // 選取頁面中所有具有 'menu-item-link' 類別的元素（選單項目連結）
    // querySelectorAll 會回傳一個包含所有符合條件元素的 NodeList
    const menuItemLinks = document.querySelectorAll('.menu-item-link');
    
    // 使用 forEach 迴圈遍歷每一個選單項目連結
    menuItemLinks.forEach(link => {
        
        // 為每個連結添加「點擊」事件監聽器
        link.addEventListener('click', function(e) {
            
            // 阻止連結的預設行為（防止頁面直接跳轉）
            // 這樣我們才能先處理資料再手動跳轉
            e.preventDefault();
            
            // 從被點擊的連結中取得商品資訊（這些資料儲存在 HTML 的 data-* 屬性中）
            const itemName = this.getAttribute('data-item');              // 商品名稱（例如：珍珠奶茶）
            const mediumPrice = this.getAttribute('data-price-medium');   // 中杯價格
            const largePrice = this.getAttribute('data-price-large');     // 大杯價格
            const imageName = this.getAttribute('data-image');            // 商品圖片檔名
            
            // 建構購物車頁面的網址，並將商品資訊以查詢字串（Query String）的方式傳遞
            // encodeURIComponent() 用於將特殊字元編碼，避免網址出現問題
            // 格式：/Home/Cart?item=商品名&medium=中杯價&large=大杯價&image=圖片名
            const cartUrl = `/Home/Cart?item=${encodeURIComponent(itemName)}&medium=${mediumPrice}&large=${largePrice}&image=${encodeURIComponent(imageName)}`;
            
            // 使用 window.location.href 跳轉到購物車頁面
            // 購物車頁面可以從網址中讀取這些參數來顯示選中的商品資訊
            window.location.href = cartUrl;
        });
    });
});
</script>

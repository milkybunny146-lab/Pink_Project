# ğŸ“§ Emailé€šçŸ¥åŠŸèƒ½è¨­å®šæŒ‡å—

## ğŸ¯ é‡è¦æé†’

**Emailç™¼é€ä¸éœ€è¦å¦å¤–çš„è³‡æ–™åº«**ï¼Œåªéœ€è¦é…ç½®SMTPéƒµä»¶æœå‹™å™¨ï¼

---

## ğŸš€ å¿«é€Ÿè¨­å®šæ­¥é©Ÿï¼ˆä½¿ç”¨ Gmailï¼‰

### æ­¥é©Ÿ 1ï¼šå–å¾— Gmail æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼

1. **ç™»å…¥æ‚¨çš„ Google å¸³æˆ¶**
   
2. **å•Ÿç”¨å…©æ­¥é©Ÿé©—è­‰**
   - å‰å¾€ï¼šhttps://myaccount.google.com/security
   - æ‰¾åˆ°ã€Œå…©æ­¥é©Ÿé©—è­‰ã€
   - é»æ“Šå•Ÿç”¨ä¸¦å®Œæˆè¨­å®š

3. **ç”Ÿæˆæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼**
   - å‰å¾€ï¼šhttps://myaccount.google.com/apppasswords
   - æˆ–åœ¨å®‰å…¨æ€§é é¢æ‰¾åˆ°ã€Œæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ã€
   - é¸æ“‡æ‡‰ç”¨ç¨‹å¼ï¼š**ã€Œéƒµä»¶ã€**
   - é¸æ“‡è£ç½®ï¼š**ã€ŒWindows é›»è…¦ã€**
   - é»æ“Šã€Œç”¢ç”Ÿã€
   - **è¤‡è£½é¡¯ç¤ºçš„ 16 ä½æ•¸å¯†ç¢¼**ï¼ˆä¾‹å¦‚ï¼š`abcd efgh ijkl mnop`ï¼‰
   - **é‡è¦**ï¼šç§»é™¤ç©ºæ ¼ï¼Œè®Šæˆ `abcdefghijklmnop`

### æ­¥é©Ÿ 2ï¼šä¿®æ”¹ appsettings.json

é–‹å•Ÿæª”æ¡ˆï¼š
```
WebApplication1\appsettings.json
```

ä¿®æ”¹ä»¥ä¸‹ä¸‰å€‹æ¬„ä½ï¼š

```json
{
  "EmailSettings": {
    "SmtpHost": "smtp.gmail.com",
    "SmtpPort": 587,
    "EnableSsl": true,
    "SenderEmail": "æ‚¨çš„Gmail@gmail.com",           // â† æ”¹é€™è£¡
    "SenderName": "å“æ¸´èŒ¶é‹ª",
    "Username": "æ‚¨çš„Gmail@gmail.com",              // â† æ”¹é€™è£¡
    "Password": "å‰›æ‰è¤‡è£½çš„16ä½æ•¸å¯†ç¢¼ç„¡ç©ºæ ¼"          // â† æ”¹é€™è£¡
  }
}
```

**ç¯„ä¾‹ï¼ˆå‡è¨­ï¼‰ï¼š**
```json
{
  "EmailSettings": {
    "SenderEmail": "pinkshop2025@gmail.com",
    "Username": "pinkshop2025@gmail.com",
    "Password": "abcdefghijklmnop"
  }
}
```

### æ­¥é©Ÿ 3ï¼šé‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼

- åœ¨ Visual Studio ä¸­æŒ‰ `Shift + F5` åœæ­¢
- å†æŒ‰ `F5` é‡æ–°å•Ÿå‹•

### æ­¥é©Ÿ 4ï¼šæ¸¬è©¦ Email åŠŸèƒ½

1. é€²å…¥ç¶²ç«™
2. åŠ å…¥å•†å“åˆ°è³¼ç‰©è»Š
3. å¡«å¯«è¨‚å–®è¡¨å–®ï¼ˆ**ä½¿ç”¨çœŸå¯¦çš„Emailåœ°å€**ï¼‰
4. æäº¤è¨‚å–®
5. æª¢æŸ¥Emailä¿¡ç®±ï¼ˆåŒ…æ‹¬åƒåœ¾éƒµä»¶å¤¾ï¼‰

---

## ğŸ“ å…¶ä»–SMTPæœå‹™é¸é …

### é¸é … Aï¼šGmailï¼ˆæ¨è–¦çµ¦å€‹äººä½¿ç”¨ï¼‰

```json
{
  "EmailSettings": {
    "SmtpHost": "smtp.gmail.com",
    "SmtpPort": 587,
    "EnableSsl": true,
    "SenderEmail": "your-gmail@gmail.com",
    "Username": "your-gmail@gmail.com",
    "Password": "your-app-password"
  }
}
```

**å„ªé»ï¼š**
- âœ… å…è²»
- âœ… æ¯å¤©å¯ç™¼é€ 500 å°
- âœ… ç©©å®šå¯é 

**ç¼ºé»ï¼š**
- âŒ éœ€è¦å•Ÿç”¨å…©æ­¥é©Ÿé©—è­‰
- âŒ éœ€è¦ç”Ÿæˆæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼

---

### é¸é … Bï¼šOutlook / Office 365

```json
{
  "EmailSettings": {
    "SmtpHost": "smtp.office365.com",
    "SmtpPort": 587,
    "EnableSsl": true,
    "SenderEmail": "your-email@outlook.com",
    "Username": "your-email@outlook.com",
    "Password": "your-password"
  }
}
```

**é©ç”¨æ–¼ï¼š**
- Outlook.com
- Hotmail.com
- Office 365 å•†æ¥­å¸³è™Ÿ

---

### é¸é … Cï¼šSendGridï¼ˆæ¨è–¦çµ¦å•†æ¥­ä½¿ç”¨ï¼‰

**ç‰¹é»ï¼š**
- æ¯å¤©å…è²»ç™¼é€ 100 å°
- å°ˆæ¥­çš„Emailç™¼é€æœå‹™
- æä¾›è©³ç´°çš„ç™¼é€çµ±è¨ˆ

**è¨­å®šæ­¥é©Ÿï¼š**
1. è¨»å†Š SendGridï¼šhttps://sendgrid.com/
2. å–å¾— API Key
3. ä¿®æ”¹é…ç½®ï¼š

```json
{
  "EmailSettings": {
    "SmtpHost": "smtp.sendgrid.net",
    "SmtpPort": 587,
    "EnableSsl": true,
    "SenderEmail": "noreply@yourdomain.com",
    "Username": "apikey",
    "Password": "your-sendgrid-api-key"
  }
}
```

---

### é¸é … Dï¼šMailgun

```json
{
  "EmailSettings": {
    "SmtpHost": "smtp.mailgun.org",
    "SmtpPort": 587,
    "EnableSsl": true,
    "SenderEmail": "noreply@yourdomain.com",
    "Username": "your-mailgun-username",
    "Password": "your-mailgun-password"
  }
}
```

---

## ğŸ› å¸¸è¦‹å•é¡Œæ’è§£

### å•é¡Œ 1ï¼šEmailæ²’æœ‰ç™¼é€

**å¯èƒ½åŸå›  1ï¼šè¨­å®šæª”æ¡ˆéŒ¯èª¤**
```
æª¢æŸ¥ appsettings.json ä¸­çš„ï¼š
- Username æ˜¯å¦æ­£ç¢º
- Password æ˜¯å¦æ­£ç¢ºï¼ˆç„¡ç©ºæ ¼ï¼‰
- SenderEmail æ˜¯å¦æ­£ç¢º
```

**å¯èƒ½åŸå›  2ï¼šæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼éŒ¯èª¤**
```
é‡æ–°ç”Ÿæˆ Gmail æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ï¼š
1. åˆªé™¤èˆŠçš„æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼
2. é‡æ–°ç”Ÿæˆæ–°çš„
3. æ›´æ–° appsettings.json
```

**å¯èƒ½åŸå›  3ï¼šé˜²ç«ç‰†å°é–**
```
æª¢æŸ¥é˜²ç«ç‰†è¨­å®šï¼Œç¢ºèªå…è¨±ï¼š
- Port 587 (SMTP)
- Port 465 (SSL)
```

---

### å•é¡Œ 2ï¼šEmailé€²å…¥åƒåœ¾éƒµä»¶

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. å°‡å¯„ä»¶è€…åŠ å…¥é€šè¨ŠéŒ„
2. ä½¿ç”¨è‡ªå·±çš„ç¶²åŸŸåç¨±ï¼ˆéœ€è¦DNSè¨­å®šï¼‰
3. è€ƒæ…®ä½¿ç”¨å°ˆæ¥­Emailæœå‹™ï¼ˆSendGrid, Mailgunï¼‰

---

### å•é¡Œ 3ï¼šGmail é¡¯ç¤ºã€Œå®‰å…¨æ€§è¼ƒä½çš„æ‡‰ç”¨ç¨‹å¼ã€

**è§£æ±ºæ–¹æ¡ˆï¼š**
ä¸è¦ä½¿ç”¨ä¸€èˆ¬å¯†ç¢¼ï¼Œè«‹ä½¿ç”¨**æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼**ï¼

æ­¥é©Ÿï¼š
1. å•Ÿç”¨å…©æ­¥é©Ÿé©—è­‰
2. ç”Ÿæˆæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼
3. ä½¿ç”¨æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ï¼ˆéä¸€èˆ¬ç™»å…¥å¯†ç¢¼ï¼‰

---

## ğŸ”’ å®‰å…¨æ€§å»ºè­°

### 1. ä¸è¦å°‡å¯†ç¢¼æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶

åœ¨ `.gitignore` ä¸­åŠ å…¥ï¼š
```
appsettings.json
appsettings.*.json
```

### 2. ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ï¼ˆé©åˆæ­£å¼ç’°å¢ƒï¼‰

åœ¨ Windows è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š
```
EMAILSETTINGS__USERNAME=your-email@gmail.com
EMAILSETTINGS__PASSWORD=your-app-password
```

ç³»çµ±æœƒè‡ªå‹•è®€å–ç’°å¢ƒè®Šæ•¸è¦†è“‹ appsettings.json

### 3. ä½¿ç”¨ Azure Key Vaultï¼ˆä¼æ¥­ç´šï¼‰

å°‡æ•æ„Ÿè³‡è¨Šå„²å­˜åœ¨ Azure Key Vault ä¸­

---

## ğŸ“Š æ¸¬è©¦æ¸…å–®

å®Œæˆè¨­å®šå¾Œï¼Œè«‹æ¸¬è©¦ä»¥ä¸‹é …ç›®ï¼š

- [ ] æˆåŠŸç™¼é€Email
- [ ] Emailæ ¼å¼æ­£ç¢ºï¼ˆHTMLé¡¯ç¤ºæ­£å¸¸ï¼‰
- [ ] è¨‚å–®è³‡è¨Šå®Œæ•´
- [ ] å¤šå€‹å•†å“æ­£ç¢ºé¡¯ç¤º
- [ ] å–è²¨æ–¹å¼æ­£ç¢ºé¡¯ç¤º
- [ ] å¤–é€åœ°å€æ­£ç¢ºé¡¯ç¤ºï¼ˆå¦‚é©ç”¨ï¼‰
- [ ] Emailåœ¨æ”¶ä»¶åŒ£ï¼ˆä¸åœ¨åƒåœ¾éƒµä»¶ï¼‰

---

## ğŸ’¡ é€²éšåŠŸèƒ½ï¼ˆæœªä¾†å¯ä»¥æ–°å¢ï¼‰

1. **è¨‚å–®ç‹€æ…‹è®Šæ›´é€šçŸ¥**
   - è¨‚å–®å·²ç¢ºèª
   - è£½ä½œä¸­
   - å·²å®Œæˆ
   - å·²å‡ºè²¨

2. **Emailæ¨£æ¿ç®¡ç†**
   - å°‡HTMLæ¨£æ¿ç¨ç«‹æˆæª”æ¡ˆ
   - æ”¯æ´å¤šèªè¨€Email

3. **é™„ä»¶åŠŸèƒ½**
   - é™„ä¸Šè¨‚å–®PDF
   - é™„ä¸Šé›»å­ç™¼ç¥¨

4. **æ‰¹æ¬¡ç™¼é€**
   - ä¿ƒéŠ·æ´»å‹•Email
   - æœƒå“¡é€šçŸ¥

---

## ğŸ“ éœ€è¦å”åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°å•é¡Œï¼š

1. **æª¢æŸ¥æ§åˆ¶å°è¼¸å‡º**
   - åœ¨ Visual Studio çš„ã€Œè¼¸å‡ºã€è¦–çª—æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯

2. **æŸ¥çœ‹æ—¥èªŒ**
   - éŒ¯èª¤è¨Šæ¯æœƒé¡¯ç¤ºåœ¨æ‡‰ç”¨ç¨‹å¼æ§åˆ¶å°

3. **å¸¸è¦‹éŒ¯èª¤è¨Šæ¯å°ç…§**

| éŒ¯èª¤è¨Šæ¯ | åŸå›  | è§£æ±ºæ–¹æ¡ˆ |
|---------|------|---------|
| "Emailè¨­å®šå°šæœªé…ç½®" | appsettings.jsonæœªä¿®æ”¹ | æ›´æ–°Emailå¸³è™Ÿå’Œå¯†ç¢¼ |
| "Authentication failed" | å¯†ç¢¼éŒ¯èª¤ | æª¢æŸ¥æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼æ˜¯å¦æ­£ç¢º |
| "Could not connect" | ç¶²è·¯æˆ–é˜²ç«ç‰†å•é¡Œ | æª¢æŸ¥ç¶²è·¯é€£ç·šå’Œé˜²ç«ç‰† |
| "Mailbox unavailable" | Emailåœ°å€ç„¡æ•ˆ | æª¢æŸ¥Emailæ ¼å¼ |

---

## âœ… è¨­å®šå®Œæˆæª¢æŸ¥è¡¨

è¨­å®šå®Œæˆå¾Œï¼Œè«‹ç¢ºèªï¼š

- [ ] å·²ä¿®æ”¹ appsettings.json çš„ä¸‰å€‹æ¬„ä½
- [ ] å·²é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼
- [ ] å·²æ¸¬è©¦ç™¼é€Email
- [ ] å·²æ”¶åˆ°æ¸¬è©¦Email
- [ ] Emailæ ¼å¼æ­£ç¢ºç¾è§€
- [ ] æ‰€æœ‰è¨‚å–®è³‡è¨Šå®Œæ•´

---

**æ­å–œï¼Emailé€šçŸ¥åŠŸèƒ½å·²æˆåŠŸè¨­å®šï¼** ğŸ‰

ç¾åœ¨æ¯æ¬¡é¡§å®¢ä¸‹è¨‚å–®ï¼Œéƒ½æœƒè‡ªå‹•æ”¶åˆ°ä¸€å°ç²¾ç¾çš„è¨‚å–®ç¢ºèªä¿¡ï¼


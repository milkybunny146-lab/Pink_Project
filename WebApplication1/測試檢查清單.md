# 購物車訂購系統 - 測試檢查清單

## 🚀 快速開始

### 前置準備
- [ ] 執行 `database_update.sql` 更新資料庫
- [ ] 在 `appsettings.json` 中設定您的Email帳號和密碼
- [ ] 確認網站能正常啟動

---

## ✅ 功能測試

### 1️⃣ 購物車頁面 - 基本功能測試

#### 測試場景 A：選擇自取
- [ ] 點擊任一商品進入購物車頁面
- [ ] 選擇尺寸（Medium/Large）
- [ ] 調整數量（使用 +/- 按鈕）
- [ ] 確認總金額計算正確
- [ ] 點擊「立即購買」按鈕
- [ ] 確認訂單表單正確顯示

#### 測試場景 B：填寫表單（自取）
- [ ] 填寫姓名（例如：王小明）
- [ ] 填寫電話（例如：0912345678）
- [ ] 填寫Email（例如：test@email.com）
- [ ] 選擇取貨方式：「自取」
- [ ] 確認地址欄位**未顯示**
- [ ] 選擇付款方式
- [ ] 填寫備註（可選）
- [ ] 確認訂單摘要顯示正確
- [ ] 點擊「確認訂單」

#### 測試場景 C：填寫表單（外送）
- [ ] 填寫姓名
- [ ] 填寫電話
- [ ] 填寫Email
- [ ] 選擇取貨方式：「外送」
- [ ] 確認地址欄位**自動顯示**
- [ ] 填寫外送地址（例如：台北市信義區忠孝東路五段123號）
- [ ] 選擇付款方式
- [ ] 確認訂單摘要顯示正確
- [ ] 點擊「確認訂單」

---

### 2️⃣ 表單驗證測試

#### 必填欄位驗證
- [ ] 嘗試提交空白表單，確認顯示錯誤訊息
- [ ] 只填寫姓名，確認提示填寫其他必填欄位
- [ ] 依序測試每個必填欄位

#### Email格式驗證
測試以下Email格式：
- [ ] 正確格式：`test@example.com` ✅
- [ ] 錯誤格式：`test@` ❌
- [ ] 錯誤格式：`test.com` ❌
- [ ] 錯誤格式：`@example.com` ❌
- [ ] 確認錯誤格式無法提交

#### 電話格式驗證
測試以下電話格式：
- [ ] 正確格式：`0912345678` (10位數字) ✅
- [ ] 錯誤格式：`091234567` (9位數) ❌
- [ ] 錯誤格式：`09123456789` (11位數) ❌
- [ ] 錯誤格式：`091-234-5678` (含符號) ❌
- [ ] 確認錯誤格式無法提交

#### 外送地址條件驗證
- [ ] 選擇「自取」，確認不需要填寫地址也能提交
- [ ] 選擇「外送」但不填地址，確認無法提交
- [ ] 選擇「外送」並填寫地址，確認能成功提交
- [ ] 從「外送」切換到「自取」，確認地址欄位隱藏

---

### 3️⃣ 訂單確認頁面測試

提交訂單後檢查：

#### 頁面顯示
- [ ] 成功圖示（綠色打勾）正確顯示
- [ ] 訂單編號格式正確（例如：ORD20251028001）
- [ ] 訂單狀態顯示「待處理」
- [ ] 付款狀態顯示「未付款」

#### 顧客資訊顯示
- [ ] 姓名顯示正確
- [ ] 電話顯示正確
- [ ] **Email顯示正確** ✨ 新功能
- [ ] **取貨方式顯示正確（自取/外送）** ✨ 新功能
- [ ] 外送地址顯示正確（僅外送訂單）
- [ ] 付款方式顯示正確
- [ ] 備註顯示正確（如有填寫）
- [ ] 訂單時間顯示正確

#### 訂購品項顯示
- [ ] 商品名稱正確
- [ ] 尺寸正確
- [ ] 數量正確
- [ ] 單價正確
- [ ] 小計正確
- [ ] 訂單總金額正確

#### 溫馨提醒
- [ ] 確認顯示「訂單確認Email已發送至您的信箱」
- [ ] 自取訂單顯示：「您選擇自取服務，請在訂單完成後到店取餐」（綠色）
- [ ] 外送訂單顯示：「您選擇外送服務，我們將盡快為您安排配送」（粉紅色）

---

### 4️⃣ Email通知功能測試

#### Email發送測試
- [ ] 使用真實的Email地址提交訂單
- [ ] 在1-2分鐘內收到訂單確認Email
- [ ] 檢查Email是否進入垃圾郵件匣

#### Email內容檢查
- [ ] 主旨包含訂單編號
- [ ] Email格式美觀（HTML格式）
- [ ] 顯示完整的訂單資訊：
  - [ ] 訂單編號
  - [ ] 顧客姓名
  - [ ] 商品名稱
  - [ ] 尺寸
  - [ ] 數量
  - [ ] **取貨方式** ✨ 新功能
  - [ ] **外送地址（僅外送訂單）** ✨ 新功能
  - [ ] 訂單總金額
- [ ] 顯示溫馨提醒事項
- [ ] 品牌色彩（粉紅色）正確顯示
- [ ] 在手機上查看Email格式正常

#### 不同場景測試
- [ ] 測試自取訂單的Email（不含地址）
- [ ] 測試外送訂單的Email（含地址）
- [ ] 確認取貨方式訊息正確顯示

---

### 5️⃣ 資料庫驗證測試

在SQL Server中執行查詢：

```sql
-- 查看最新訂單
SELECT TOP 5 
    OrderNumber,
    CustomerName,
    CustomerPhone,
    CustomerEmail,      -- 新欄位
    DeliveryType,       -- 新欄位
    CustomerAddress,
    TotalAmount,
    OrderStatus,
    CreatedAt
FROM Pinkshop_Orders
ORDER BY CreatedAt DESC;
```

確認：
- [ ] CustomerEmail 正確儲存
- [ ] DeliveryType 正確儲存（自取/外送）
- [ ] CustomerAddress 在自取訂單中為空或NULL
- [ ] CustomerAddress 在外送訂單中有值

---

### 6️⃣ 錯誤處理測試

#### SMTP連線錯誤
- [ ] 故意設定錯誤的SMTP設定
- [ ] 提交訂單
- [ ] 確認訂單仍然建立成功（即使Email發送失敗）
- [ ] 檢查控制台是否有錯誤訊息

#### 網路連線問題
- [ ] 暫時中斷網路連線
- [ ] 嘗試提交訂單
- [ ] 確認系統有適當的錯誤處理

---

### 7️⃣ 使用者體驗測試

#### 響應式設計
- [ ] 在桌機瀏覽器測試（1920x1080）
- [ ] 在平板瀏覽器測試（768px）
- [ ] 在手機瀏覽器測試（375px）
- [ ] 確認所有欄位在小螢幕上仍可正常使用

#### 瀏覽器相容性
- [ ] Chrome
- [ ] Edge
- [ ] Firefox
- [ ] Safari (Mac/iOS)

#### 操作流暢度
- [ ] 表單填寫流暢
- [ ] 取貨方式切換即時反應
- [ ] 地址欄位顯示/隱藏流暢
- [ ] 數量調整按鈕反應快速
- [ ] 訂單提交速度合理

---

## 🐛 已知問題記錄

請在測試過程中記錄發現的問題：

| 日期 | 測試者 | 問題描述 | 嚴重程度 | 狀態 |
|------|--------|----------|----------|------|
|      |        |          |          |      |
|      |        |          |          |      |
|      |        |          |          |      |

---

## 📊 測試結果摘要

- 測試日期：___________
- 測試者：___________
- 通過測試項目：_____ / _____
- 發現問題數量：_____
- 嚴重問題：_____
- 一般問題：_____

### 結論
- [ ] ✅ 所有測試通過，可以上線
- [ ] ⚠️ 有輕微問題，建議修復後上線
- [ ] ❌ 有嚴重問題，需要修復

---

## 💡 測試技巧

1. **使用臨時Email**
   - 可使用 Temp Mail (https://temp-mail.org/) 進行測試
   - 或使用自己的測試Email帳號

2. **測試資料**
   - 使用真實但非敏感的測試資料
   - 建議使用「測試」作為姓名前綴

3. **控制台監控**
   - 開啟瀏覽器開發者工具（F12）
   - 監控 Console 標籤的錯誤訊息
   - 檢查 Network 標籤的請求狀態

4. **資料庫監控**
   - 保持 SQL Server Management Studio 開啟
   - 每次提交訂單後查詢資料表
   - 確認資料正確儲存

---

祝測試順利！如有問題請參考「Email設定說明.md」文件。🎉

